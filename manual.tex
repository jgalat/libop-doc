\documentclass[12pt,a4paper,final]{article}
\usepackage[utf8]{inputenc}
\usepackage[spanish]{babel}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{imakeidx}
\usepackage[hidelinks]{hyperref}
\usepackage[none]{hyphenat}
\usepackage{alltt}
\usepackage{bold-extra}
\author{}
\title{LibOP \\ Documentación técnica}
\makeindex
\date{}

\begin{document}
\maketitle

\tableofcontents

\clearpage

\section{Introducción}


\subsection{Descripción}
	%TODO que hace, en que está hecha? etc..
	
	
\section{Compilación}
	En subsecciones siguientes se listan los requerimientos a cumplir y las instrucciones
	a correr necesarias para la correcta compilación de la librería en sistemas basados
	en Linux y en Windows. 	 
	
	\subsection{Linux}
		
		\subsubsection{Requerimientos}
			En sistemas derivados de Debian el único requerimiento es el conjunto de 
			herramientas que vienen incluídas en el paquete \texttt{build-essential},
			el cual puede ser instalado desde los repositorios
			oficiales utilizando el comando:
			
			\begin{alltt}
				sudo apt-get install build-essential
			\end{alltt}	
			
		\subsubsection{Instrucciones}
			Ubicado en la carpeta del proyecto clonado podremos compilar la librería corriendo:
			
			\begin{alltt}
				cd build && make
			\end{alltt}

			Finalizado el comando obtendremos la librería compartida \texttt{libop.so}.

	\subsection{Windows}
		\subsubsection{Requerimientos}
			En sistemas que utilicen Windows 7, 8.1 o 10 los siguientes requerimientos
			son necesarios (a menos que se indique lo contrario) para la correcta compilación:
			\begin{itemize}
				\item \href{https://git-scm.com/download/win}{Git for Windows} (Opcional)
				\item \href{http://gnuwin32.sourceforge.net/packages/make.htm}{GNU Make}
				\item \href{https://sourceforge.net/projects/mingw-w64/}{Mingw-w64}
			\end{itemize}
		\subsubsection{Instrucciones}
			Seguir las siguientes instrucciones.
			
			\begin{enumerate}
				\item Instalar Git for Windows (opcional).
				\item Instalar GNU Make.
					\begin{itemize}
						\item Añadir la carpeta \texttt{GnuWin32/bin} a la variable de entorno \texttt{PATH}.
					\end{itemize}
				\item Instalar Mingw-w64 con las opciones (7.1.0, x86\_64, posix, seh, 0). El número de versión puede variar.
					\begin{itemize}
						\item Añadir la carpeta \texttt{mingw-w64/x86\_64-7.1.0-posix-seh-rt\_05-rev0/mingw64/bin} a la variable de entorno \texttt{PATH}.
					\end{itemize}
				\item Clonar el proyecto mediante Git.
				\item Ubicado en la carpeta del proyecto correr: 
						\begin{alltt}
							cd build \&\& make OS=win32
						\end{alltt}			
			\end{enumerate}
		
			Finalizado todo obtendremos la librería compartida \texttt{libop.dll}.
			
	\subsection{Opciones de compilación}
		Se listan a continuación opciones que se pueden pasar al comando \texttt{make}.
		
		\begin{description}
			\item [\texttt{make OS=\textbf{os}}] Especifica el sistema para el cual se desea compilar la librería.
				Sus opciones son \texttt{unix} o \texttt{win32}. Siendo \texttt{unix} la opción por defecto.
			\item [\texttt{make VERBOSE=bool}] Caso sea \texttt{True} la librería compilada incluirá código 
				necesario para la impresión de mensajes de error a través de la salida estandar de errores. Ésto
				puede ser útil para la búsqueda de errores. Su opción por defecto es \texttt{False}.
			\item [\texttt{make export\_all}] Creará una carpeta \texttt{export} en la raíz del proyecto la 
				cual incluirá la librería compilada y las cabeceras C a ser incluídas para su uso. Caso la
				plataforma objetivo sea Windows, deberemos especificar también la opcion \texttt{OS=win32}.
		\end{description}

\section{Uso}
	\subsection{C/C++}
		Las signaturas de las funciones exportadas por la librería se encuentran en las cabeceras
		exportadas por la opción \texttt{export\_all}. Para hacer uso de la librería sólo deberemos incluír
		en el código la cabecera \texttt{libop.h} ubicada en \texttt{include} y compilar de manera que se linkee
		a la librería compilada. Ejemplo:
		
		\begin{alltt}
			\textbf{CC} -I\textbf{include} -L\textbf{lib} ejemplo.c -lop
		\end{alltt}
		
		Dónde \texttt{CC} es el compilador a utilizar (gcc, g++, etc.), \texttt{include} es la carpeta dónde
		se encuentran las cabeceras y \texttt{lib} es la carpeta dónde se encuentra la librería compilada.
		Notar el uso de la bandera \texttt{-lop}, la cual es necesaria.
		
	\subsection{C\#}
		En el siguiente enlace: \url{https://www.github.com/jgalat/libop_CS}, se encuentra alojada
		una solución hecha en Visual Studio la cual actúa como interfaz para invocar a las funciones
		de la librería desde C\#. La solución requiere de la librería compilada utilizando la bandera
		\texttt{OS=win32}, es decir \texttt{libop.dll}.
		
\section{Implementación}

	\subsection{Guía de estructuras}
		A continuacióin se describen las estructuras incluídas en la librería.
		
		\begin{description}
		\item [\texttt{time\_period}] Representa un periodo de tiempo. A partir de la definicion de 
			la cantidad de días activos que habrá en el año, se puede determinar el número
			de días activos que el periodo abarca.  
		\item [\texttt{dividend}] Representa un dividendo, el cual puede ser continuo o discreto.
		\item [\texttt{volatility}] Representa una volatilidad.
		\item [\texttt{risk\_free\_rate}] Representa una tasa libre de riesgo.
		\item [\texttt{pm\_settings}] Estructura que almacena configuraciones que se pueden
			especificar para ser usadas por un \texttt{pricing\_method}. Más adelante se describiran
			sus campos, valores por defecto y como cambiarlos.
		\item [\texttt{pricing\_method}] Estructura que contiene métodos para realizar el cálculo
			de precios, griegas y volatilidades implícitas de opciones. Cada \texttt{pricing\_method}
			se encuentra programado de forma exclusiva para un tipo de ejercicio en particular,
			es decir, por ejemplo, no se podrá calcular el precio de una opción europea con un
			\texttt{pricing\_method} pensado para americanas. Para el cálculo hara uso de los datos
			de la opción, dividendo, volatilidad, tasa de riesgo y (caso se haya especificado) un conjunto
			de configuraciones diferentes a las por defecto.
		\item [\texttt{result}]	Estrctura en la cual se almacenaran los resultados calculados por
			un \texttt{pricing\_method}. Una vez realizado el cálculo por éste, se podrá consultar para
			su obtención.
		\item [\texttt{option}] Representa una opción, es decir, especifica su tipo (Call o Put), su
			tipo de ejercicio (Europeo o Americano), su periodo hasta la expiración y su precio de
			strike. Hace uso de \texttt{pricing\_method} para el cálculo de su precio, griegas y
			volatilidades implicitas.
		\end{description}

	\subsection{Guía de funciones}
		A continuación se detallan las funciones específicas de cada estructura
		listadas según la cabecera en la que se encuentra.
		
		\subsubsection{cabecera.h, etc, funcs abajo}

\section{Extensión de la librería?}
	\subsection{Como agregar nuevos pms?, etc}

\section{Ejemplo}

\section{Biblio???}

\printindex

\end{document}